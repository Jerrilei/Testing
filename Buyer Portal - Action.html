<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Supply Chain Intelligence Hub</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  :root {
    --bg: #0f172a;
    --panel: #1e293b;
    --panel2: #1a2438;
    --text: #f1f5f9;
    --muted: #94a3b8;
    --brand: #3b82f6;
    --blue: #60a5fa;
    --green: #10b981;
    --violet: #a855f7;
    --amber: #f59e0b;
    --cyan: #06b6d4;
    --red: #ef4444;
    --border: #334155;
    --border-light: #475569;
  }
  
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.5;
  }
  
  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
  }
  
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border);
  }
  
  .header-left h1 {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 4px;
  }
  
  .header-subtitle {
    color: var(--muted);
    font-size: 14px;
  }
  
  .header-right {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  
  .last-updated {
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 8px 16px;
    font-size: 13px;
    color: var(--muted);
  }
  
  .refresh-btn {
    background: var(--brand);
    color: white;
    border: none;
    border-radius: 6px;
    padding: 8px 16px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  
  .refresh-btn:hover {
    background: #2563eb;
  }
  
  /* Filter Bar */
  .filter-bar {
    background: var(--panel);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
    border: 1px solid var(--border);
  }
  
  .filter-row {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    align-items: end;
  }
  
  .filter-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
    min-width: 150px;
  }
  
  .filter-label {
    font-size: 12px;
    color: var(--muted);
    font-weight: 500;
  }
  
  .filter-input, .filter-select {
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 8px 12px;
    color: var(--text);
    font-size: 14px;
  }
  
  .filter-actions {
    margin-left: auto;
    display: flex;
    gap: 8px;
  }
  
  .btn {
    padding: 8px 16px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: var(--panel);
    color: var(--text);
    font-size: 13px;
    cursor: pointer;
  }
  
  .btn-primary {
    background: var(--brand);
    color: white;
    border-color: var(--brand);
  }
  
  /* KPI Cards Grid - BELOW FILTER BAR */
  .kpi-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    margin-bottom: 20px;
  }
  
  .kpi-card {
    background: linear-gradient(160deg, var(--panel), var(--panel2));
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    transition: transform 0.2s;
  }
  
  .kpi-card:hover {
    transform: translateY(-2px);
  }
  
  .kpi-title {
    font-size: 14px;
    color: var(--muted);
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .kpi-title i {
    color: var(--brand);
  }
  
  .kpi-value {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 8px;
  }
  
  .kpi-change {
    font-size: 13px;
    margin-bottom: 8px;
  }
  
  .kpi-change.positive {
    color: var(--green);
  }
  
  .kpi-change.negative {
    color: var(--red);
  }
  
  .kpi-note {
    font-size: 13px;
    color: var(--muted);
  }
  
  /* Main Dashboard Grid */
  .dashboard-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
  }
  
  .dashboard-grid-3col {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 16px;
    margin-bottom: 20px;
  }
  
  .panel {
    background: linear-gradient(160deg, var(--panel), var(--panel2));
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
  }
  
  .panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
  }
  
  .panel-title {
    font-size: 16px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .panel-title i {
    color: var(--brand);
  }
  
  .panel-actions {
    display: flex;
    gap: 8px;
  }
  
  .btn-icon {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Chart Containers */
  .chart-container {
    height: 240px;
    position: relative;
  }
  
  .chart-container-md {
    height: 200px;
    position: relative;
  }
  
  /* Orders Chart */
  .orders-legend {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 16px;
    flex-wrap: wrap;
  }
  
  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    color: var(--muted);
  }
  
  .legend-dot {
    width: 10px;
    height: 10px;
    border-radius: 2px;
  }
  
  /* Risk Chart */
  .risk-donut-container {
    display: flex;
    align-items: center;
    gap: 20px;
    height: 180px;
  }
  
  .risk-stats {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  
  .risk-stat {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .risk-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
  }
  
  .risk-dot.low { background: var(--green); }
  .risk-dot.medium { background: var(--amber); }
  .risk-dot.high { background: var(--red); }
  
  /* Credit Utilization Chart */
  .credit-util-legend {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 12px;
  }
  
  /* Supplier Map/List */
  .view-tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
  }
  
  .view-tab {
    padding: 6px 12px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--muted);
    font-size: 13px;
    cursor: pointer;
  }
  
  .view-tab.active {
    background: var(--brand);
    color: white;
    border-color: var(--brand);
  }
  
  .map-container {
    height: 300px;
    background: #0a1120;
    border-radius: 8px;
    border: 1px solid var(--border);
    position: relative;
    overflow: hidden;
  }
  
  .map-background {
    width: 100%;
    height: 100%;
    background: 
      linear-gradient(90deg, rgba(30, 41, 59, 0.7) 1px, transparent 1px) 0 0 / 20px 20px,
      linear-gradient(rgba(30, 41, 59, 0.7) 1px, transparent 1px) 0 0 / 20px 20px;
    position: relative;
  }
  
  .map-point {
    position: absolute;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid white;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    z-index: 2;
  }
  
  .map-point:hover::after {
    content: attr(data-name);
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--panel);
    border: 1px solid var(--border);
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 10;
  }
  
  .map-concentration {
    font-size: 12px;
    color: var(--muted);
    margin-top: 12px;
    text-align: center;
  }
  
  /* Data Table */
  .table-container {
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid var(--border);
    border-radius: 8px;
  }
  
  .data-table {
    width: 100%;
    border-collapse: collapse;
  }
  
  .data-table th {
    background: var(--panel);
    color: var(--muted);
    font-weight: 600;
    font-size: 12px;
    text-align: left;
    padding: 12px 16px;
    border-bottom: 1px solid var(--border);
    position: sticky;
    top: 0;
  }
  
  .data-table td {
    padding: 12px 16px;
    border-bottom: 1px solid var(--border);
    font-size: 13px;
  }
  
  .data-table tr:hover {
    background: rgba(255, 255, 255, 0.05);
  }
  
  .supplier-link {
    color: var(--blue);
    text-decoration: none;
    font-weight: 500;
    cursor: pointer;
  }
  
  .supplier-link:hover {
    text-decoration: underline;
  }
  
  /* Badges */
  .badge {
    display: inline-flex;
    align-items: center;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
  }
  
  .badge-low {
    background: rgba(16, 185, 129, 0.15);
    color: var(--green);
    border: 1px solid rgba(16, 185, 129, 0.3);
  }
  
  .badge-medium {
    background: rgba(245, 158, 11, 0.15);
    color: var(--amber);
    border: 1px solid rgba(245, 158, 11, 0.3);
  }
  
  .badge-high {
    background: rgba(239, 68, 68, 0.15);
    color: var(--red);
    border: 1px solid rgba(239, 68, 68, 0.3);
  }
  
  /* Alerts */
  .alerts-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
    margin-bottom: 16px;
  }
  
  .alert-summary-card {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    padding: 12px;
    cursor: pointer;
    transition: all 0.2s;
  }
  
  .alert-summary-card:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateY(-2px);
  }
  
  .alert-summary-card.active {
    background: rgba(59, 130, 246, 0.15);
    border-color: var(--brand);
  }
  
  .alert-type {
    font-size: 11px;
    color: var(--muted);
    margin-bottom: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  
  .alert-count {
    font-size: 22px;
    font-weight: 700;
  }
  
  .alert-count.critical { color: var(--red); }
  .alert-count.warning { color: var(--amber); }
  .alert-count.info { color: var(--blue); }
  
  .alert-details {
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: 200px;
    overflow-y: auto;
  }
  
  .alert-item {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 6px;
    padding: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-left: 4px solid var(--amber);
  }
  
  .alert-item.critical {
    border-left-color: var(--red);
  }
  
  .alert-info h4 {
    font-size: 13px;
    margin-bottom: 4px;
  }
  
  .alert-info p {
    font-size: 12px;
    color: var(--muted);
  }
  
  /* Insights & Competitors - DIFFERENT STYLES */
  .insights-competitors-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
  }
  
  /* Market Insights - News Style */
  .insights-panel {
    background: linear-gradient(160deg, var(--panel), var(--panel2));
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    min-height: 400px;
  }
  
  .insights-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  
  .insight-item {
    display: flex;
    gap: 16px;
    padding: 16px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    transition: background 0.2s;
  }
  
  .insight-item:hover {
    background: rgba(255, 255, 255, 0.08);
  }
  
  .insight-image {
    width: 120px;
    height: 80px;
    border-radius: 6px;
    overflow: hidden;
    flex-shrink: 0;
  }
  
  .insight-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .insight-content {
    flex: 1;
  }
  
  .insight-title {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 8px;
    line-height: 1.3;
  }
  
  .insight-note {
    font-size: 13px;
    color: var(--muted);
    margin-bottom: 12px;
    line-height: 1.4;
  }
  
  .insight-tags {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
  }
  
  .tag {
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 10px;
    font-weight: 600;
    background: var(--panel);
    border: 1px solid var(--border);
    color: var(--muted);
  }
  
  /* Competitors - Action Cards */
  .competitors-panel {
    background: linear-gradient(160deg, var(--panel), var(--panel2));
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    min-height: 400px;
  }
  
  .competitors-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  
  .competitor-card {
    padding: 16px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    border-left: 4px solid var(--violet);
    transition: all 0.2s;
  }
  
  .competitor-card:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateX(4px);
  }
  
  .competitor-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 8px;
  }
  
  .competitor-name {
    font-size: 14px;
    font-weight: 700;
    color: var(--violet);
  }
  
  .competitor-action {
    font-size: 12px;
    color: #f8c861;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  
  .competitor-description {
    font-size: 13px;
    color: var(--muted);
    margin-bottom: 12px;
    line-height: 1.4;
  }
  
  .competitor-tags {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
  }
  
  .competitor-tag {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 10px;
    font-weight: 600;
    background: rgba(168, 85, 247, 0.25);
    color: #e2d6f5;
    border: 1px solid rgba(168, 85, 247, 0.4);
  }
  
  /* Drawer */
  .overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(4px);
    display: none;
    z-index: 100;
  }
  
  .overlay.show {
    display: block;
  }
  
  .drawer {
    position: fixed;
    top: 0;
    right: 0;
    width: 900px;
    height: 100vh;
    background: linear-gradient(160deg, var(--panel), var(--panel2));
    border-left: 1px solid var(--border);
    box-shadow: -20px 0 60px rgba(0, 0, 0, 0.3);
    z-index: 101;
    transform: translateX(100%);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow-y: auto;
  }
  
  .drawer.open {
    transform: translateX(0);
  }
  
  .drawer-header {
    padding: 24px;
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
  }
  
  .drawer-title {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 4px;
  }
  
  .drawer-subtitle {
    color: var(--muted);
    font-size: 13px;
  }
  
  .drawer-content {
    padding: 24px;
  }
  
  .drawer-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
    margin-bottom: 24px;
  }
  
  .drawer-card {
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
  }
  
  .drawer-label {
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 8px;
  }
  
  .drawer-value {
    font-size: 16px;
    font-weight: 600;
  }
  
  /* UPDATED: Drawer Tabs for Radar/Trend */
  .drawer-tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 24px;
  }
  
  .drawer-tab {
    padding: 8px 16px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--muted);
    font-size: 13px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  
  .drawer-tab.active {
    background: var(--brand);
    color: white;
    border-color: var(--brand);
  }
  
  .drawer-chart-container {
    height: 300px;
    position: relative;
    margin-bottom: 24px;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
  }
  
  /* Products Section in Drawer */
  .products-section {
    margin-top: 24px;
  }
  
  .products-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    margin-top: 16px;
  }
  
  .product-card {
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 8px;
    overflow: hidden;
    transition: transform 0.2s;
  }
  
  .product-card:hover {
    transform: translateY(-2px);
  }
  
  .product-image {
    height: 120px;
    background: var(--panel2);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    color: var(--muted);
  }
  
  .product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .product-info {
    padding: 16px;
  }
  
  .product-name {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 4px;
  }
  
  .product-category {
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 8px;
  }
  
  .product-volume {
    font-size: 12px;
    color: var(--brand);
    font-weight: 500;
  }
  
  /* Performance Table with Sparklines */
  .performance-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 24px;
  }
  
  .performance-table th {
    background: var(--panel);
    color: var(--muted);
    font-weight: 600;
    font-size: 12px;
    text-align: left;
    padding: 12px 16px;
    border-bottom: 1px solid var(--border);
  }
  
  .performance-table td {
    padding: 12px 16px;
    border-bottom: 1px solid var(--border);
    font-size: 13px;
  }
  
  .sparkline-container {
    width: 80px;
    height: 24px;
    position: relative;
  }
  
  .trend-indicator {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-weight: 600;
  }
  
  .trend-indicator.positive {
    color: var(--green);
  }
  
  .trend-indicator.negative {
    color: var(--red);
  }
  
  /* Supplier Order Status Chart in Drawer */
  .drawer-order-chart {
    margin: 24px 0;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 20px;
  }
  
  .drawer-order-chart .chart-container-md {
    height: 200px;
  }
  
  /* Performance Metrics Header Fix */
  .performance-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 16px;
  }
  
  /* Responsive */
  @media (max-width: 1200px) {
    .kpi-grid {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .dashboard-grid,
    .insights-competitors-grid {
      grid-template-columns: 1fr;
    }
    
    .dashboard-grid-3col {
      grid-template-columns: 1fr;
    }
    
    .drawer {
      width: 700px;
    }
    
    .products-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  @media (max-width: 768px) {
    .kpi-grid {
      grid-template-columns: 1fr;
    }
    
    .drawer {
      width: 100%;
    }
    
    .filter-row {
      flex-direction: column;
    }
    
    .filter-actions {
      margin-left: 0;
      width: 100%;
    }
    
    .insight-item {
      flex-direction: column;
    }
    
    .insight-image {
      width: 100%;
      height: 120px;
    }
    
    .products-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="header-left">
        <h1>Supply Chain Intelligence Hub</h1>
        <div class="header-subtitle">Supplier Management · Funding · Risk · Market Insights</div>
      </div>
      <div class="header-right">
        <div class="last-updated">
          <i class="fas fa-clock"></i> Last updated: <span id="lastUpdated">Today 14:30</span>
        </div>
        <button class="refresh-btn" id="refreshBtn">
          <i class="fas fa-sync-alt"></i> Refresh
        </button>
      </div>
    </div>
    
    <!-- Filter Bar -->
    <div class="filter-bar">
      <div class="filter-row">
        <div class="filter-group">
          <label class="filter-label">Search Supplier</label>
          <input type="text" class="filter-input" id="searchInput" placeholder="Supplier name...">
        </div>
        
        <div class="filter-group">
          <label class="filter-label">Country</label>
          <select class="filter-select" id="countryFilter">
            <option value="">All Countries</option>
            <option value="CN">China</option>
            <option value="VN">Vietnam</option>
            <option value="TH">Thailand</option>
            <option value="IN">India</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">Years</label>
          <select class="filter-select" id="yearsFilter">
            <option value="">All Years</option>
            <option value="0-1">0-1 years</option>
            <option value="1-3">1-3 years</option>
            <option value="3-5">3-5 years</option>
            <option value="5+">5+ years</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">Risk Level</label>
          <select class="filter-select" id="riskFilter">
            <option value="">All Risks</option>
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">Min. Performance</label>
          <div style="display: flex; gap: 8px;">
            <input type="number" class="filter-input" id="minDelivery" placeholder="Delivery" style="width: 80px;">
            <input type="number" class="filter-input" id="minQuality" placeholder="Quality" style="width: 80px;">
            <input type="number" class="filter-input" id="minPrice" placeholder="Price" style="width: 80px;">
          </div>
        </div>
        
        <div class="filter-actions">
          <button class="btn btn-primary" id="applyFilters">Apply Filters</button>
          <button class="btn" id="resetFilters">Reset</button>
        </div>
      </div>
    </div>
    
    <!-- KPI Cards - BELOW FILTER BAR -->
    <div class="kpi-grid">
      <div class="kpi-card">
        <div class="kpi-title">
          <i class="fas fa-industry"></i> Active Suppliers
        </div>
        <div class="kpi-value">247</div>
        <div class="kpi-change positive">+8 this month</div>
        <div class="kpi-note">12M spend: €2.85B</div>
      </div>
      
      <div class="kpi-card">
        <div class="kpi-title">
          <i class="fas fa-university"></i> Funding
        </div>
        <div class="kpi-value">€2.85B</div>
        <div class="kpi-change negative">-3.2% from last quarter</div>
        <div class="kpi-note">Utilization: 67%</div>
      </div>
      
      <div class="kpi-card">
        <div class="kpi-title">
          <i class="fas fa-exclamation-triangle"></i> High Risk
        </div>
        <div class="kpi-value">8</div>
        <div class="kpi-change positive">-2 last week</div>
        <div class="kpi-note">Watchlist suppliers</div>
      </div>
      
      <div class="kpi-card">
        <div class="kpi-title">
          <i class="fas fa-boxes"></i> Orders
        </div>
        <div class="kpi-value">12,450</div>
        <div class="kpi-change positive">+5% from last month</div>
        <div class="kpi-note">Active pipeline</div>
      </div>
    </div>
    
    <!-- Three Column Grid: Orders, Risk, Credit -->
    <div class="dashboard-grid-3col">
      <!-- Orders Status -->
      <div class="panel">
        <div class="panel-header">
          <div class="panel-title">
            <i class="fas fa-boxes"></i> Order Status
          </div>
          <div class="panel-actions">
            <select class="filter-select" style="font-size: 12px;">
              <option>Current</option>
              <option>Last Week</option>
              <option>Last Month</option>
            </select>
          </div>
        </div>
        <div class="chart-container-md">
          <canvas id="ordersChart"></canvas>
        </div>
        <div class="orders-legend">
          <div class="legend-item">
            <div class="legend-dot" style="background: #3b82f6;"></div>
            <span>Placed</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background: #10b981;"></div>
            <span>Production</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background: #f59e0b;"></div>
            <span>Shipped</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background: #8b5cf6;"></div>
            <span>Settled</span>
          </div>
        </div>
      </div>
      
      <!-- Supplier Risk -->
      <div class="panel">
        <div class="panel-header">
          <div class="panel-title">
            <i class="fas fa-shield-alt"></i> Supplier Risk
          </div>
        </div>
        <div class="risk-donut-container">
          <div style="flex: 1;">
            <canvas id="riskChart" width="180" height="180"></canvas>
          </div>
          <div class="risk-stats">
            <div class="risk-stat">
              <div class="risk-dot low"></div>
              <div>
                <div style="font-weight: 600; font-size: 18px;">189</div>
                <div style="font-size: 12px; color: var(--muted);">Low Risk</div>
              </div>
            </div>
            <div class="risk-stat">
              <div class="risk-dot medium"></div>
              <div>
                <div style="font-weight: 600; font-size: 18px;">50</div>
                <div style="font-size: 12px; color: var(--muted);">Medium Risk</div>
              </div>
            </div>
            <div class="risk-stat">
              <div class="risk-dot high"></div>
              <div>
                <div style="font-weight: 600; font-size: 18px;">8</div>
                <div style="font-size: 12px; color: var(--muted);">High Risk</div>
              </div>
            </div>
          </div>
        </div>
        <div style="font-size: 12px; color: var(--muted); text-align: center; margin-top: 8px;">
          Top 3 regions: 78% suppliers
        </div>
      </div>
      
      <!-- Credit Utilization -->
      <div class="panel">
        <div class="panel-header">
          <div class="panel-title">
            <i class="fas fa-university"></i> Credit Utilization
          </div>
          <div class="panel-actions">
            <select class="filter-select" id="creditViewSelect" style="font-size: 12px;">
              <option value="bank">By Bank</option>
              <option value="time">Time Series</option>
            </select>
          </div>
        </div>
        <div class="chart-container-md">
          <canvas id="creditChart"></canvas>
        </div>
        <div class="credit-util-legend">
          <div class="legend-item">
            <div class="legend-dot" style="background: #10b981;"></div>
            <span>Utilized</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background: rgba(148, 163, 184, 0.5);"></div>
            <span>Headroom</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Supplier Map/List & Alerts -->
    <div class="dashboard-grid">
      <!-- Supplier Map/List -->
      <div class="panel">
        <div class="panel-header">
          <div class="panel-title">
            <i class="fas fa-globe-asia"></i> Supplier Geography
          </div>
          <div class="view-tabs">
            <button class="view-tab active" data-view="map">Map</button>
            <button class="view-tab" data-view="list">List</button>
          </div>
        </div>
        
        <!-- Map View -->
        <div id="mapView" style="display: block;">
          <div class="map-container">
            <div class="map-background" id="mapBackground" style="
              background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/World_map_blank_without_borders.svg/1200px-World_map_blank_without_borders.svg.png');
              background-size: contain;
              background-position: center;
              background-repeat: no-repeat;
              background-color: #0a1120;
              opacity: 0.7;
            "></div>
            <!-- Map points will be added by JavaScript -->
          </div>
          <div class="map-concentration">
            Supplier concentration: Top 3 regions account for 78% of suppliers
          </div>
        </div>
        
        <!-- List View -->
        <div id="listView" style="display: none;">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Supplier</th>
                  <th>Region</th>
                  <th>Country</th>
                  <th>Order (12M)</th>
                  <th>Perf.</th>
                  <th>Risk</th>
                  <th>Credit Util.</th>
                </tr>
              </thead>
              <tbody id="supplierTable">
                <!-- Will be populated by JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
      <!-- Alerts -->
      <div class="panel">
        <div class="panel-header">
          <div class="panel-title">
            <i class="fas fa-bell"></i> Smart Alerts
          </div>
          <button class="btn" id="acknowledgeAll" style="font-size: 12px;">
            Acknowledge All
          </button>
        </div>
        
        <div class="alerts-grid">
          <div class="alert-summary-card active" data-type="delivery">
            <div class="alert-type">Potential Delays</div>
            <div class="alert-count warning">12</div>
            <div style="font-size: 11px; color: var(--muted);">Suppliers with delivery issues</div>
          </div>
          <div class="alert-summary-card" data-type="quality">
            <div class="alert-type">Quality Issues</div>
            <div class="alert-count warning">8</div>
            <div style="font-size: 11px; color: var(--muted);">Quality score below threshold</div>
          </div>
          <div class="alert-summary-card" data-type="credit">
            <div class="alert-type">High Credit Util.</div>
            <div class="alert-count critical">5</div>
            <div style="font-size: 11px; color: var(--muted);">Utilization > 88%</div>
          </div>
          <div class="alert-summary-card" data-type="risk">
            <div class="alert-type">Risk Increase</div>
            <div class="alert-count info">7</div>
            <div style="font-size: 11px; color: var(--muted);">Score/Risk level changed</div>
          </div>
        </div>
        
        <div style="font-size: 12px; color: var(--muted); margin: 12px 0 8px 0;">
          Highlighted Suppliers
        </div>
        
        <div class="alert-details" id="alertDetails">
          <!-- Will be populated by JavaScript -->
        </div>
      </div>
    </div>
    
    <!-- Market Insights & Competitors - DIFFERENT STYLES -->
    <div class="insights-competitors-grid">
      <!-- Market Insights - News Style with real images -->
      <div class="insights-panel">
        <div class="panel-header">
          <div class="panel-title">
            <i class="fas fa-newspaper"></i> Market Insights
          </div>
        </div>
        <div class="insights-list">
          <div class="insight-item">
            <div class="insight-image">
              <!-- Real news image placeholder -->
              <img src="https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=400&h=200&fit=crop" alt="EU Consumer Trends">
            </div>
            <div class="insight-content">
              <div class="insight-title">EU consumers keep trading down; private label up</div>
              <div class="insight-note">Value & private label pull ahead; watch middle-income recovery pockets. Retailers are shifting focus to value segments as consumer spending tightens.</div>
              <div class="insight-tags">
                <span class="tag">Consumer Trend</span>
                <span class="tag">Pricing</span>
                <span class="tag">Europe</span>
              </div>
            </div>
          </div>
          
          <div class="insight-item">
            <div class="insight-image">
              <img src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400&h=200&fit=crop" alt="Home Goods Sales">
            </div>
            <div class="insight-content">
              <div class="insight-title">Home & Seasonal rebound in DE/FR; toys flat</div>
              <div class="insight-note">Seasonal uplift; toys softer—mix shift to lower ASPs. Home goods see 15% growth while toys remain stagnant due to inventory issues.</div>
              <div class="insight-tags">
                <span class="tag">Category Trend</span>
                <span class="tag">Regional</span>
                <span class="tag">Home Goods</span>
              </div>
            </div>
          </div>
          
          <div class="insight-item">
            <div class="insight-image">
              <img src="https://images.unsplash.com/photo-1551434678-e076c223a692?w=400&h=200&fit=crop" alt="Supply Chain">
            </div>
            <div class="insight-content">
              <div class="insight-title">Supply chain costs easing but volatility persists</div>
              <div class="insight-note">Ocean freight rates down 30% YoY but regional disruptions continue. Monitor port congestion in key Asian hubs.</div>
              <div class="insight-tags">
                <span class="tag">Logistics</span>
                <span class="tag">Costs</span>
                <span class="tag">Asia</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Competitors - Action Cards -->
      <div class="competitors-panel">
        <div class="panel-header">
          <div class="panel-title">
            <i class="fas fa-users"></i> Competitor Moves & Signals
          </div>
        </div>
        <div class="competitors-list">
          <div class="competitor-card">
            <div class="competitor-header">
              <div class="competitor-name">ALDI</div>
              <div class="competitor-action">MARKET EXPANSION</div>
            </div>
            <div class="competitor-description">Expands into new cities; 40 stores pipeline; focus on local sourcing and private label expansion across Europe.</div>
            <div class="competitor-tags">
              <span class="competitor-tag">New Market Entry</span>
              <span class="competitor-tag">Store Opening</span>
              <span class="competitor-tag">Local Sourcing</span>
            </div>
          </div>
          
          <div class="competitor-card">
            <div class="competitor-header">
              <div class="competitor-name">LIDL</div>
              <div class="competitor-action">MARKETING STRATEGY</div>
            </div>
            <div class="competitor-description">Aggressive social campaigns; weekly promos on non-food ranges. Digital ad spend increased by 40% QoQ.</div>
            <div class="competitor-tags">
              <span class="competitor-tag">Social Media</span>
              <span class="competitor-tag">Promotions</span>
              <span class="competitor-tag">Digital Marketing</span>
            </div>
          </div>
          
          <div class="competitor-card">
            <div class="competitor-header">
              <div class="competitor-name">IKEA</div>
              <div class="competitor-action">ESG INITIATIVES</div>
            </div>
            <div class="competitor-description">Announced 100% renewable energy target by 2025. Launching circular economy initiatives for furniture.</div>
            <div class="competitor-tags">
              <span class="competitor-tag">Sustainability</span>
              <span class="competitor-tag">Renewable Energy</span>
              <span class="competitor-tag">Circular Economy</span>
            </div>
          </div>
          
          <div class="competitor-card">
            <div class="competitor-header">
              <div class="competitor-name">Amazon</div>
              <div class="competitor-action">PRODUCT STRATEGY</div>
            </div>
            <div class="competitor-description">Expanding private label home goods range. Testing new fulfillment models for faster delivery.</div>
            <div class="competitor-tags">
              <span class="competitor-tag">Private Label</span>
              <span class="competitor-tag">Home Goods</span>
              <span class="competitor-tag">Fulfillment</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- UPDATED Supplier Detail Drawer with 2 tabs + table below -->
  <div id="overlay" class="overlay"></div>
  <div id="drawer" class="drawer">
    <div class="drawer-header">
      <div>
        <div id="supplierName" class="drawer-title">Atlas North China #1069</div>
        <div class="drawer-subtitle">Supplier ID: SPL-2024-1069 · Category: Home Goods</div>
      </div>
      <button id="closeDrawerBtn" class="btn-icon">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <div class="drawer-content">
      <!-- Supplier Info -->
      <div class="drawer-grid">
        <div class="drawer-card">
          <div class="drawer-label">Region / Country / Years</div>
          <div id="supplierRegion" class="drawer-value">North China — Tianjin · CN · 3y</div>
        </div>
        
        <div class="drawer-card">
          <div class="drawer-label">Order Amount (12M)</div>
          <div id="supplierSpend" class="drawer-value">€50.3M</div>
        </div>
        
        <div class="drawer-card">
          <div class="drawer-label">Credit</div>
          <div id="supplierCredit" class="drawer-value">Limit €23.5M · Utilized €22.6M · Util 96%</div>
        </div>
        
        <div class="drawer-card">
          <div class="drawer-label">Risk</div>
          <div id="supplierRisk">
            <span class="badge badge-medium">Medium Risk</span>
          </div>
        </div>
      </div>
      
      <!-- Tabs for Radar/Trend -->
      <div class="drawer-tabs">
        <button class="drawer-tab active" data-tab="radar">
          <i class="fas fa-chart-radar"></i> Supplier vs Average
        </button>
        <button class="drawer-tab" data-tab="trend">
          <i class="fas fa-chart-line"></i> Score Trend History
        </button>
      </div>
      
      <!-- Radar Chart -->
      <div id="radarTab" class="drawer-chart-container" style="display: block;">
        <canvas id="radarChart"></canvas>
        <div class="drawer-legend" style="margin-top: 16px;">
          <div class="legend-item">
            <div class="legend-dot" style="background: #3b82f6;"></div>
            <span>Supplier</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background: #f59e0b;"></div>
            <span>Industry Average</span>
          </div>
        </div>
      </div>
      
      <!-- Trend Chart -->
      <div id="trendTab" class="drawer-chart-container" style="display: none;">
        <canvas id="trendChart"></canvas>
      </div>
      
      <!-- Performance Metrics Table with Sparklines -->
      <div style="margin-top: 24px;">
        <div class="performance-header">
          <div style="font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
            <i class="fas fa-table"></i> Performance Metrics (vs Industry Average)
          </div>
        </div>
        
        <table class="performance-table">
          <thead>
            <tr>
              <th>Dimension</th>
              <th>Supplier Score</th>
              <th>Average Score</th>
              <th>Difference</th>
              <th>12M Trend</th>
            </tr>
          </thead>
          <tbody id="performanceScores">
            <!-- Will be populated by JavaScript -->
          </tbody>
        </table>
        
        <div style="display: flex; justify-content: center; gap: 20px; margin-top: 16px; font-size: 12px; color: var(--muted);">
          <div style="display: flex; align-items: center; gap: 6px;">
            <div style="width: 12px; height: 3px; background: #3b82f6;"></div>
            <span>Supplier Trend</span>
          </div>
          <div style="display: flex; align-items: center; gap: 6px;">
            <div style="width: 12px; height: 3px; background: #f59e0b; opacity: 0.5;"></div>
            <span>Industry Average</span>
          </div>
        </div>
      </div>
      
      <!-- Order Status Overview - 移到表格下方 -->
      <div class="drawer-order-chart">
        <div class="performance-header">
          <div style="font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
            <i class="fas fa-boxes"></i> Order Status Overview
          </div>
        </div>
        <div class="chart-container-md">
          <canvas id="drawerOrdersChart"></canvas>
        </div>
        <div class="orders-legend">
          <div class="legend-item">
            <div class="legend-dot" style="background: #3b82f6;"></div>
            <span>Placed</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background: #10b981;"></div>
            <span>Production</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background: #f59e0b;"></div>
            <span>Shipped</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background: #8b5cf6;"></div>
            <span>Settled</span>
          </div>
        </div>
      </div>
      
      <!-- Products Section -->
      <div class="products-section">
        <div style="font-size: 16px; font-weight: 600; margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
          <i class="fas fa-cube"></i> Product Portfolio
        </div>
        
        <div class="products-grid" id="productsGrid">
          <!-- Products will be populated by JavaScript -->
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Global variables
    let ordersChart, riskChart, creditChart;
    let radarChart, trendChart, drawerOrdersChart;
    
    // Initialize dashboard
    document.addEventListener('DOMContentLoaded', function() {
      // Update timestamp
      updateTimestamp();
      
      // Initialize charts
      initOrdersChart();
      initRiskChart();
      initCreditChart('bank'); // Default to By Bank
      initSupplierTable();
      initMapView();
      initAlerts();
      
      // Drawer functionality
      initDrawer();
      
      // Event listeners
      document.getElementById('refreshBtn').addEventListener('click', refreshDashboard);
      document.getElementById('applyFilters').addEventListener('click', applyFilters);
      document.getElementById('resetFilters').addEventListener('click', resetFilters);
      document.getElementById('acknowledgeAll').addEventListener('click', acknowledgeAllAlerts);
      
      // Credit view select
      document.getElementById('creditViewSelect').addEventListener('change', function() {
        initCreditChart(this.value);
      });
      
      // View tabs
      document.querySelectorAll('.view-tab').forEach(tab => {
        tab.addEventListener('click', function() {
          const view = this.dataset.view;
          const parent = this.closest('.panel');
          
          // Update active tab
          parent.querySelectorAll('.view-tab').forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          
          // Handle map/list view
          if (parent.querySelector('#mapView')) {
            document.getElementById('mapView').style.display = view === 'map' ? 'block' : 'none';
            document.getElementById('listView').style.display = view === 'list' ? 'block' : 'none';
          }
        });
      });
      
      // Alert summary cards
      document.querySelectorAll('.alert-summary-card').forEach(card => {
        card.addEventListener('click', function() {
          document.querySelectorAll('.alert-summary-card').forEach(c => c.classList.remove('active'));
          this.classList.add('active');
          
          const type = this.dataset.type;
          filterAlertsByType(type);
        });
      });
    });
    
    function updateTimestamp() {
      const now = new Date();
      const options = { 
        weekday: 'short', 
        month: 'short', 
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      };
      document.getElementById('lastUpdated').textContent = now.toLocaleDateString('en-US', options);
    }
    
    function refreshDashboard() {
      const btn = document.getElementById('refreshBtn');
      const icon = btn.querySelector('i');
      const originalText = btn.innerHTML;
      
      btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Refreshing...';
      btn.disabled = true;
      
      // Simulate API call
      setTimeout(() => {
        updateTimestamp();
        
        // Update KPI values
        const kpiValues = ['248', '€2.86B', '7', '12,520'];
        const changes = ['+9 this month', '-2.8% from last quarter', '-3 last week', '+6% from last month'];
        
        document.querySelectorAll('.kpi-card').forEach((card, idx) => {
          const valueEl = card.querySelector('.kpi-value');
          const changeEl = card.querySelector('.kpi-change');
          
          if (valueEl && kpiValues[idx]) {
            valueEl.textContent = kpiValues[idx];
          }
          
          if (changeEl && changes[idx]) {
            changeEl.textContent = changes[idx];
          }
        });
        
        btn.innerHTML = originalText;
        btn.disabled = false;
        
        showNotification('Dashboard data refreshed successfully', 'success');
      }, 1500);
    }
    
    function showNotification(message, type) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? '#10b981' : '#ef4444'};
        color: white;
        padding: 12px 20px;
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        z-index: 1000;
        font-size: 14px;
        animation: slideIn 0.3s ease;
      `;
      
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => notification.remove(), 300);
      }, 3000);
      
      // Add animation styles
      if (!document.querySelector('#notification-styles')) {
        const style = document.createElement('style');
        style.id = 'notification-styles';
        style.textContent = `
          @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
          }
        `;
        document.head.appendChild(style);
      }
    }
    
    function applyFilters() {
      showNotification('Filters applied successfully', 'success');
    }
    
    function resetFilters() {
      document.getElementById('searchInput').value = '';
      document.getElementById('countryFilter').value = '';
      document.getElementById('yearsFilter').value = '';
      document.getElementById('riskFilter').value = '';
      document.getElementById('minDelivery').value = '';
      document.getElementById('minQuality').value = '';
      document.getElementById('minPrice').value = '';
      
      showNotification('Filters reset', 'info');
    }
    
    function acknowledgeAllAlerts() {
      document.getElementById('alertDetails').innerHTML = `
        <div style="text-align: center; padding: 20px; color: var(--muted);">
          <i class="fas fa-check-circle" style="font-size: 24px; margin-bottom: 8px; color: var(--green);"></i>
          <div>All alerts have been acknowledged</div>
        </div>
      `;
      
      // Reset summary cards
      document.querySelectorAll('.alert-count').forEach(count => {
        count.textContent = '0';
        count.classList.remove('critical', 'warning');
      });
      
      document.querySelectorAll('.alert-summary-card').forEach(card => {
        card.classList.remove('active');
      });
    }
    
    function filterAlertsByType(type) {
      const alerts = {
        delivery: [
          { title: 'Delivery Delay > 15%', supplier: 'Asia Home Manufacturing', since: '2 days ago', score: 68 },
          { title: 'On-Time Delivery < 70%', supplier: 'Vietnam Paper Co.', since: '1 week ago', score: 65 }
        ],
        quality: [
          { title: 'Quality Defect Rate > 5%', supplier: 'Turkish Textile Group', since: '3 days ago', score: 62 },
          { title: 'Customer Returns Increased', supplier: 'India Hardware', since: '5 days ago', score: 67 }
        ],
        credit: [
          { title: 'Credit Utilization > 95%', supplier: 'Atlas North China', since: 'Today', score: 96 },
          { title: 'Payment Terms Extended', supplier: 'Europe Plastic', since: '2 days ago', score: 91 }
        ],
        risk: [
          { title: 'Risk Score Decreased > 10pts', supplier: 'China Electronics', since: '1 week ago', score: -12 },
          { title: 'Geopolitical Risk Increase', supplier: 'Middle East Logistics', since: '3 days ago', score: 45 }
        ]
      };
      
      const alertList = alerts[type] || [];
      const details = document.getElementById('alertDetails');
      details.innerHTML = '';
      
      if (alertList.length === 0) {
        details.innerHTML = '<div style="text-align: center; padding: 20px; color: var(--muted);">No alerts for this category</div>';
        return;
      }
      
      alertList.forEach(alert => {
        const div = document.createElement('div');
        div.className = `alert-item ${alert.score < 70 ? 'critical' : ''}`;
        div.innerHTML = `
          <div class="alert-info">
            <h4>${alert.supplier}</h4>
            <p>${alert.title} • ${alert.since}</p>
          </div>
          <div style="font-size: 14px; font-weight: 600; color: ${alert.score < 70 ? '#ef4444' : '#f59e0b'};">${alert.score}${type === 'risk' && alert.score < 0 ? '' : type === 'credit' ? '%' : ''}</div>
        `;
        details.appendChild(div);
      });
    }
    
    function initOrdersChart() {
      const ctx = document.getElementById('ordersChart').getContext('2d');
      ordersChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Orders'],
          datasets: [
            {
              label: 'Placed',
              data: [42.5],
              backgroundColor: '#3b82f6',
              borderColor: '#2563eb',
              borderWidth: 1
            },
            {
              label: 'In Production',
              data: [28.3],
              backgroundColor: '#10b981',
              borderColor: '#059669',
              borderWidth: 1
            },
            {
              label: 'Shipped',
              data: [25.1],
              backgroundColor: '#f59e0b',
              borderColor: '#d97706',
              borderWidth: 1
            },
            {
              label: 'Settled',
              data: [18.7],
              backgroundColor: '#8b5cf6',
              borderColor: '#7c3aed',
              borderWidth: 1
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          indexAxis: 'y',
          scales: {
            x: {
              stacked: true,
              beginAtZero: true,
              grid: { color: 'rgba(255,255,255,0.1)' },
              ticks: { 
                color: '#94a3b8',
                callback: function(value) {
                  return value + 'K';
                }
              }
            },
            y: {
              stacked: true,
              grid: { color: 'rgba(255,255,255,0.1)' },
              ticks: { color: '#94a3b8' }
            }
          },
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return `${context.dataset.label}: ${context.raw}K`;
                }
              }
            }
          }
        }
      });
    }
    
    function initRiskChart() {
      const ctx = document.getElementById('riskChart').getContext('2d');
      riskChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['Low Risk', 'Medium Risk', 'High Risk'],
          datasets: [{
            data: [189, 50, 8],
            backgroundColor: ['#10b981', '#f59e0b', '#ef4444'],
            borderWidth: 0
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          cutout: '70%',
          plugins: {
            legend: { display: false }
          }
        }
      });
    }
    
    function initCreditChart(viewType) {
      const ctx = document.getElementById('creditChart').getContext('2d');
      
      // Destroy existing chart if exists
      if (creditChart) {
        creditChart.destroy();
      }
      
      if (viewType === 'time') {
        // Time Series view: Bar + Line with dual Y-axis
        const limit = 285; // Total limit in millions
        const utilizedData = [192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203];
        const headroomData = utilizedData.map(util => limit - util);
        const utilizationPercent = utilizedData.map(util => (util / limit * 100).toFixed(1));
        
        creditChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            datasets: [
              {
                label: 'Utilized',
                data: utilizedData,
                backgroundColor: '#10b981',
                borderColor: '#059669',
                borderWidth: 1
              },
              {
                label: 'Headroom',
                data: headroomData,
                backgroundColor: 'rgba(148, 163, 184, 0.5)',
                borderColor: 'rgba(148, 163, 184, 0.7)',
                borderWidth: 1
              },
              {
                label: 'Utilization %',
                data: utilizationPercent,
                type: 'line',
                yAxisID: 'y1',
                borderColor: '#f59e0b',
                backgroundColor: 'transparent',
                borderWidth: 3,
                tension: 0.4,
                fill: false,
                pointRadius: 4,
                pointBackgroundColor: '#f59e0b'
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              x: {
                stacked: true,
                grid: { color: 'rgba(255,255,255,0.1)' },
                ticks: { color: '#94a3b8' }
              },
              y: {
                stacked: true,
                beginAtZero: true,
                max: 300,
                grid: { color: 'rgba(255,255,255,0.1)' },
                ticks: { 
                  color: '#94a3b8',
                  callback: function(value) {
                    return '€' + value + 'M';
                  }
                }
              },
              y1: {
                position: 'right',
                min: 60,
                max: 75,
                grid: { drawOnChartArea: false },
                ticks: { 
                  color: '#f59e0b',
                  callback: function(value) {
                    return value + '%';
                  }
                }
              }
            },
            plugins: {
              legend: { display: false },
              tooltip: {
                mode: 'index',
                intersect: false,
                callbacks: {
                  label: function(context) {
                    if (context.datasetIndex === 0) {
                      return `Utilized: €${context.raw}M`;
                    } else if (context.datasetIndex === 1) {
                      return `Headroom: €${context.raw}M`;
                    } else {
                      return `Utilization: ${context.raw}%`;
                    }
                  }
                }
              }
            }
          }
        });
        
        // Add total limit line and labels
        setTimeout(() => {
          const meta = creditChart.getDatasetMeta(0);
          const ctx = creditChart.ctx;
          
          // Draw total limit line
          ctx.beginPath();
          ctx.setLineDash([5, 3]);
          ctx.strokeStyle = 'rgba(148, 163, 184, 0.8)';
          ctx.lineWidth = 1;
          const yAxis = creditChart.scales.y;
          const yPos = yAxis.getPixelForValue(limit);
          ctx.moveTo(meta.data[0].x - 20, yPos);
          ctx.lineTo(meta.data[meta.data.length-1].x + 20, yPos);
          ctx.stroke();
          ctx.setLineDash([]);
          
          // Add limit label
          ctx.fillStyle = '#94a3b8';
          ctx.font = 'bold 10px sans-serif';
          ctx.textAlign = 'right';
          ctx.fillText(`Total Limit: €${limit}M`, meta.data[meta.data.length-1].x + 40, yPos - 5);
          
          // Add utilization percentages on top of bars
          utilizationPercent.forEach((percent, i) => {
            const { x, y } = meta.data[i];
            ctx.fillStyle = '#f1f5f9';
            ctx.font = 'bold 10px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText(`${percent}%`, x, y - 8);
          });
        }, 100);
      } else {
        // By Bank view (default) - Stacked bar showing limit with utilized and headroom
        const bankData = [
          { bank: 'Bank A', limit: 80, utilized: 52, headroom: 28 },
          { bank: 'Bank B', limit: 60, utilized: 29, headroom: 31 },
          { bank: 'Bank C', limit: 50, utilized: 36, headroom: 14 },
          { bank: 'Bank D', limit: 127, utilized: 75, headroom: 52 }
        ];
        
        creditChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: bankData.map(b => b.bank),
            datasets: [
              {
                label: 'Utilized',
                data: bankData.map(b => b.utilized),
                backgroundColor: '#10b981',
                borderColor: '#059669',
                borderWidth: 1
              },
              {
                label: 'Headroom',
                data: bankData.map(b => b.headroom),
                backgroundColor: 'rgba(148, 163, 184, 0.5)',
                borderColor: 'rgba(148, 163, 184, 0.7)',
                borderWidth: 1
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              x: {
                stacked: true,
                grid: { color: 'rgba(255,255,255,0.1)' },
                ticks: { color: '#94a3b8' }
              },
              y: {
                stacked: true,
                beginAtZero: true,
                grid: { color: 'rgba(255,255,255,0.1)' },
                ticks: { 
                  color: '#94a3b8',
                  callback: function(value) {
                    return '€' + value + 'M';
                  }
                }
              }
            },
            plugins: {
              legend: { display: false },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    const bank = bankData[context.dataIndex];
                    const total = bank.limit;
                    const util = (context.datasetIndex === 0 ? 
                      (context.raw / total * 100).toFixed(1) + '% util' :
                      '');
                    
                    return `${context.dataset.label}: €${context.raw}M ${util}`;
                  },
                  afterLabel: function(context) {
                    const bank = bankData[context.dataIndex];
                    return `Total Limit: €${bank.limit}M`;
                  }
                }
              }
            }
          }
        });
        
        // Add utilization percentages on top of bars
        setTimeout(() => {
          const utilPercentages = bankData.map(b => Math.round(b.utilized / b.limit * 100) + '%');
          const meta = creditChart.getDatasetMeta(0);
          const ctx = creditChart.ctx;
          
          utilPercentages.forEach((percent, i) => {
            const { x, y } = meta.data[i];
            ctx.fillStyle = '#f1f5f9';
            ctx.font = 'bold 10px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText(percent, x, y - 5);
          });
        }, 100);
      }
    }
    
    function initSupplierTable() {
      const suppliers = [
        { name: 'Atlas North China #1069', region: 'North China', country: 'CN', spend: '€50.3M', perf: '8.2', risk: 'medium', util: '96%' },
        { name: 'Nova East China #2045', region: 'East China', country: 'CN', spend: '€42.8M', perf: '9.1', risk: 'low', util: '74%' },
        { name: 'Europe Plastic Solutions', region: 'Warsaw', country: 'PL', spend: '€28.3M', perf: '8.5', risk: 'low', util: '74%' },
        { name: 'Turkish Textile Group', region: 'Istanbul', country: 'TR', spend: '€25.1M', perf: '7.8', risk: 'medium', util: '73%' },
        { name: 'India Hardware Mfg', region: 'Delhi', country: 'IN', spend: '€18.7M', perf: '8.1', risk: 'medium', util: '63%' },
        { name: 'Vietnam Paper Co.', region: 'Hanoi', country: 'VN', spend: '€15.4M', perf: '9.0', risk: 'low', util: '58%' }
      ];
      
      const tbody = document.getElementById('supplierTable');
      tbody.innerHTML = '';
      
      suppliers.forEach(supplier => {
        const row = document.createElement('tr');
        let riskBadge = '';
        if (supplier.risk === 'low') {
          riskBadge = '<span class="badge badge-low">Low</span>';
        } else if (supplier.risk === 'medium') {
          riskBadge = '<span class="badge badge-medium">Medium</span>';
        } else {
          riskBadge = '<span class="badge badge-high">High</span>';
        }
        
        row.innerHTML = `
          <td><a class="supplier-link" onclick="openSupplierDrawer('${supplier.name}')">${supplier.name}</a></td>
          <td>${supplier.region}</td>
          <td>${supplier.country}</td>
          <td style="font-weight: 600;">${supplier.spend}</td>
          <td>${supplier.perf}/10</td>
          <td>${riskBadge}</td>
          <td>${supplier.util}</td>
        `;
        tbody.appendChild(row);
      });
    }
    
    function initMapView() {
      const container = document.getElementById('mapBackground');
      
      // Clear existing points
      const existingPoints = container.querySelectorAll('.map-point');
      existingPoints.forEach(point => point.remove());
      
      // Simulated supplier locations with correct positioning
      const suppliers = [
        { x: 70, y: 30, name: 'China (124)', risk: 'low', size: 16 },
        { x: 75, y: 35, name: 'Shanghai', risk: 'low', size: 10 },
        { x: 68, y: 32, name: 'Tianjin', risk: 'medium', size: 10 },
        { x: 50, y: 28, name: 'India (42)', risk: 'medium', size: 14 },
        { x: 45, y: 25, name: 'Delhi', risk: 'medium', size: 10 },
        { x: 25, y: 60, name: 'Poland (28)', risk: 'low', size: 12 },
        { x: 15, y: 50, name: 'Egypt (12)', risk: 'high', size: 10 },
        { x: 35, y: 35, name: 'Turkey (15)', risk: 'low', size: 10 },
        { x: 45, y: 45, name: 'Italy (15)', risk: 'low', size: 10 },
        { x: 60, y: 25, name: 'Vietnam (18)', risk: 'low', size: 10 }
      ];
      
      suppliers.forEach(supplier => {
        const point = document.createElement('div');
        point.className = 'map-point';
        point.style.left = `${supplier.x}%`;
        point.style.top = `${supplier.y}%`;
        point.style.width = `${supplier.size}px`;
        point.style.height = `${supplier.size}px`;
        point.style.marginLeft = `-${supplier.size/2}px`;
        point.style.marginTop = `-${supplier.size/2}px`;
        point.dataset.name = supplier.name;
        
        if (supplier.risk === 'low') {
          point.style.background = '#10b981';
        } else if (supplier.risk === 'medium') {
          point.style.background = '#f59e0b';
        } else {
          point.style.background = '#ef4444';
        }
        
        point.addEventListener('click', () => {
          openSupplierDrawer(`Supplier in ${supplier.name.split(' ')[0]}`);
        });
        
        container.appendChild(point);
      });
      
      console.log('Map initialized with', suppliers.length, 'points');
    }
    
    function initAlerts() {
      // Initialize with delivery alerts
      filterAlertsByType('delivery');
    }
    
    function initDrawer() {
      const overlay = document.getElementById('overlay');
      const drawer = document.getElementById('drawer');
      const closeBtn = document.getElementById('closeDrawerBtn');
      
      window.openSupplierDrawer = function(supplierName) {
        document.getElementById('supplierName').textContent = supplierName;
        document.getElementById('supplierRegion').textContent = 'North China — Tianjin · CN · 3y';
        document.getElementById('supplierSpend').textContent = '€50.3M';
        document.getElementById('supplierCredit').textContent = 'Limit €23.5M · Utilized €22.6M · Util 96%';
        document.getElementById('supplierRisk').innerHTML = '<span class="badge badge-medium">Medium Risk</span>';
        
        overlay.classList.add('show');
        drawer.classList.add('open');
        
        // Initialize charts and data
        initRadarChart();
        initTrendChart();
        initDrawerOrdersChart();
        populatePerformanceTable();
        populateProducts();
      };
      
      function closeDrawer() {
        overlay.classList.remove('show');
        drawer.classList.remove('open');
      }
      
      overlay.addEventListener('click', closeDrawer);
      closeBtn.addEventListener('click', closeDrawer);
      
      // Drawer tabs
      document.querySelectorAll('.drawer-tab').forEach(tab => {
        tab.addEventListener('click', function() {
          const tabName = this.dataset.tab;
          document.querySelectorAll('.drawer-tab').forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          
          document.getElementById('radarTab').style.display = tabName === 'radar' ? 'block' : 'none';
          document.getElementById('trendTab').style.display = tabName === 'trend' ? 'block' : 'none';
        });
      });
    }
    
    function initDrawerOrdersChart() {
      const ctx = document.getElementById('drawerOrdersChart').getContext('2d');
      if (drawerOrdersChart) drawerOrdersChart.destroy();
      
      drawerOrdersChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Placed', 'Production', 'Shipped', 'Settled'],
          datasets: [
            {
              label: 'Order Count',
              data: [18.2, 12.5, 8.7, 6.3],
              backgroundColor: [
                '#3b82f6',
                '#10b981',
                '#f59e0b',
                '#8b5cf6'
              ],
              borderColor: [
                '#2563eb',
                '#059669',
                '#d97706',
                '#7c3aed'
              ],
              borderWidth: 1
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              grid: { color: 'rgba(255,255,255,0.1)' },
              ticks: { color: '#94a3b8' }
            },
            y: {
              beginAtZero: true,
              grid: { color: 'rgba(255,255,255,0.1)' },
              ticks: { 
                color: '#94a3b8',
                callback: function(value) {
                  return value + 'K';
                }
              }
            }
          },
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return `${context.label}: ${context.raw}K orders`;
                }
              }
            }
          }
        }
      });
    }
    
    function initRadarChart() {
      const ctx = document.getElementById('radarChart').getContext('2d');
      if (radarChart) radarChart.destroy();
      
      radarChart = new Chart(ctx, {
        type: 'radar',
        data: {
          labels: ['Delivery', 'Quality', 'Pricing', 'Compliance', 'Buyer Base', 'Stability', 'Production Lead Time'],
          datasets: [
            {
              label: 'Supplier',
              data: [88, 92, 76, 85, 84, 90, 82],
              backgroundColor: 'rgba(59, 130, 246, 0.2)',
              borderColor: '#3b82f6',
              borderWidth: 2,
              pointBackgroundColor: '#3b82f6'
            },
            {
              label: 'Industry Average',
              data: [82, 85, 80, 78, 78, 83, 75],
              backgroundColor: 'rgba(245, 158, 11, 0.2)',
              borderColor: '#f59e0b',
              borderWidth: 2,
              pointBackgroundColor: '#f59e0b'
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            r: {
              angleLines: { color: 'rgba(255,255,255,0.1)' },
              grid: { color: 'rgba(255,255,255,0.1)' },
              pointLabels: { 
                color: '#94a3b8',
                font: { size: 11 }
              },
              ticks: { 
                color: '#94a3b8',
                backdropColor: 'transparent',
                font: { size: 9 }
              },
              beginAtZero: true,
              min: 0,
              max: 100
            }
          },
          plugins: {
            legend: {
              position: 'bottom',
              labels: { 
                color: '#94a3b8',
                font: { size: 11 }
              }
            }
          }
        }
      });
    }
    
    function initTrendChart() {
      const ctx = document.getElementById('trendChart').getContext('2d');
      if (trendChart) trendChart.destroy();
      
      trendChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
          datasets: [
            {
              label: 'Delivery',
              data: [82, 84, 83, 86, 87, 88, 90, 89, 88, 87, 88, 88],
              borderColor: '#3b82f6',
              backgroundColor: 'rgba(59, 130, 246, 0.1)',
              tension: 0.3
            },
            {
              label: 'Quality',
              data: [88, 89, 90, 91, 92, 92, 93, 92, 91, 92, 92, 92],
              borderColor: '#10b981',
              backgroundColor: 'rgba(16, 185, 129, 0.1)',
              tension: 0.3
            },
            {
              label: 'Pricing',
              data: [72, 73, 74, 75, 76, 76, 77, 76, 75, 76, 76, 76],
              borderColor: '#f59e0b',
              backgroundColor: 'rgba(245, 158, 11, 0.1)',
              tension: 0.3
            },
            {
              label: 'Compliance',
              data: [78, 80, 82, 83, 84, 85, 85, 84, 85, 85, 85, 85],
              borderColor: '#8b5cf6',
              backgroundColor: 'rgba(139, 92, 246, 0.1)',
              tension: 0.3
            },
            {
              label: 'Buyer Base',
              data: [80, 81, 82, 83, 84, 84, 85, 84, 83, 84, 84, 84],
              borderColor: '#06b6d4',
              backgroundColor: 'rgba(6, 182, 212, 0.1)',
              tension: 0.3
            },
            {
              label: 'Stability',
              data: [85, 86, 87, 88, 89, 90, 91, 90, 89, 90, 90, 90],
              borderColor: '#ef4444',
              backgroundColor: 'rgba(239, 68, 68, 0.1)',
              tension: 0.3
            },
            {
              label: 'Production Lead Time',
              data: [78, 79, 80, 81, 82, 82, 82, 81, 80, 81, 82, 82],
              borderColor: '#f97316',
              backgroundColor: 'rgba(249, 115, 22, 0.1)',
              tension: 0.3
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              grid: { color: 'rgba(255,255,255,0.1)' },
              ticks: { color: '#94a3b8' }
            },
            y: {
              beginAtZero: false,
              min: 70,
              grid: { color: 'rgba(255,255,255,0.1)' },
              ticks: { color: '#94a3b8' }
            }
          },
          plugins: {
            legend: {
              position: 'bottom',
              labels: { 
                color: '#94a3b8',
                font: { size: 11 }
              }
            }
          }
        }
      });
    }
    
    function populatePerformanceTable() {
      const metrics = [
        { 
          dimension: 'Delivery', 
          supplier: 88, 
          average: 82, 
          difference: +6,
          trend: [82, 84, 83, 86, 87, 88, 90, 89, 88, 87, 88, 88],
          avgTrend: [80, 81, 82, 83, 84, 84, 85, 84, 83, 84, 84, 84]
        },
        { 
          dimension: 'Quality', 
          supplier: 92, 
          average: 85, 
          difference: +7,
          trend: [88, 89, 90, 91, 92, 92, 93, 92, 91, 92, 92, 92],
          avgTrend: [83, 84, 84, 85, 85, 85, 86, 85, 85, 85, 85, 85]
        },
        { 
          dimension: 'Pricing', 
          supplier: 76, 
          average: 80, 
          difference: -4,
          trend: [72, 73, 74, 75, 76, 76, 77, 76, 75, 76, 76, 76],
          avgTrend: [78, 79, 79, 80, 80, 80, 81, 80, 80, 80, 80, 80]
        },
        { 
          dimension: 'Compliance', 
          supplier: 85, 
          average: 78, 
          difference: +7,
          trend: [78, 80, 82, 83, 84, 85, 85, 84, 85, 85, 85, 85],
          avgTrend: [75, 76, 77, 77, 78, 78, 78, 78, 78, 78, 78, 78]
        },
        { 
          dimension: 'Buyer Base', 
          supplier: 84, 
          average: 78, 
          difference: +6,
          trend: [80, 81, 82, 83, 84, 84, 85, 84, 83, 84, 84, 84],
          avgTrend: [76, 77, 77, 78, 78, 78, 78, 78, 78, 78, 78, 78]
        },
        { 
          dimension: 'Stability', 
          supplier: 90, 
          average: 83, 
          difference: +7,
          trend: [85, 86, 87, 88, 89, 90, 91, 90, 89, 90, 90, 90],
          avgTrend: [81, 82, 82, 83, 83, 83, 84, 83, 83, 83, 83, 83]
        },
        { 
          dimension: 'Production Lead Time', 
          supplier: 82, 
          average: 75, 
          difference: +7,
          trend: [78, 79, 80, 81, 82, 82, 82, 81, 80, 81, 82, 82],
          avgTrend: [72, 73, 73, 74, 74, 75, 75, 75, 75, 75, 75, 75]
        }
      ];
      
      const tbody = document.getElementById('performanceScores');
      tbody.innerHTML = '';
      
      metrics.forEach(metric => {
        const row = document.createElement('tr');
        const diffClass = metric.difference >= 0 ? 'positive' : 'negative';
        const trendSymbol = metric.difference >= 0 ? '↗' : '↘';
        
        // Create sparkline canvas
        const sparklineId = `sparkline-${metric.dimension.replace(/\s+/g, '-').toLowerCase()}`;
        
        row.innerHTML = `
          <td style="font-weight: 600;">${metric.dimension}</td>
          <td>${metric.supplier}</td>
          <td>${metric.average}</td>
          <td><span class="trend-indicator ${diffClass}">${trendSymbol} ${Math.abs(metric.difference)}</span></td>
          <td>
            <div class="sparkline-container">
              <canvas id="${sparklineId}" width="80" height="24"></canvas>
            </div>
          </td>
        `;
        tbody.appendChild(row);
        
        // Create sparkline chart
        setTimeout(() => {
          const sparkCtx = document.getElementById(sparklineId).getContext('2d');
          new Chart(sparkCtx, {
            type: 'line',
            data: {
              labels: Array(12).fill(''),
              datasets: [
                {
                  data: metric.trend,
                  borderColor: '#3b82f6',
                  backgroundColor: 'transparent',
                  borderWidth: 2,
                  tension: 0.3,
                  pointRadius: 0
                },
                {
                  data: metric.avgTrend,
                  borderColor: '#f59e0b',
                  backgroundColor: 'transparent',
                  borderWidth: 1,
                  tension: 0.3,
                  pointRadius: 0,
                  borderDash: [3, 3]
                }
              ]
            },
            options: {
              responsive: false,
              maintainAspectRatio: false,
              scales: {
                x: { display: false },
                y: { display: false }
              },
              plugins: {
                legend: { display: false },
                tooltip: { enabled: false }
              }
            }
          });
        }, 100);
      });
    }
    
    function populateProducts() {
      const products = [
        { 
          name: 'Home Furniture Sets', 
          category: 'Furniture',
          image: 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400&h=250&fit=crop',
          volume: '€15.2M'
        },
        { 
          name: 'Kitchenware & Utensils', 
          category: 'Kitchen',
          image: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=250&fit=crop',
          volume: '€12.8M'
        },
        { 
          name: 'Home Textiles', 
          category: 'Textiles',
          image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=250&fit=crop',
          volume: '€8.5M'
        },
        { 
          name: 'Lighting Fixtures', 
          category: 'Lighting',
          image: 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?w=400&h=250&fit=crop',
          volume: '€6.7M'
        },
        { 
          name: 'Decorative Items', 
          category: 'Decor',
          image: 'https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=250&fit=crop',
          volume: '€5.1M'
        },
        { 
          name: 'Storage Solutions', 
          category: 'Storage',
          image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=250&fit=crop',
          volume: '€2.0M'
        }
      ];
      
      const productsGrid = document.getElementById('productsGrid');
      productsGrid.innerHTML = '';
      
      products.forEach(product => {
        const productCard = document.createElement('div');
        productCard.className = 'product-card';
        productCard.innerHTML = `
          <div class="product-image">
            <img src="${product.image}" alt="${product.name}">
          </div>
          <div class="product-info">
            <div class="product-name">${product.name}</div>
            <div class="product-category">${product.category}</div>
            <div class="product-volume">Volume: ${product.volume}</div>
          </div>
        `;
        productsGrid.appendChild(productCard);
      });
    }
  </script>
</body>
</html>